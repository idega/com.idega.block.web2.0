!function(){var a={},b=function(b){for(var c=a[b],e=c.deps,f=c.defn,g=e.length,h=new Array(g),i=0;i<g;++i)h[i]=d(e[i]);var j=f.apply(null,h);if(void 0===j)throw"module ["+b+"] returned undefined";c.instance=j},c=function(b,c,d){if("string"!=typeof b)throw"module id must be a string";if(void 0===c)throw"no dependencies for "+b;if(void 0===d)throw"no definition function for "+b;a[b]={deps:c,defn:d,instance:void 0}},d=function(c){var d=a[c];if(void 0===d)throw"module ["+c+"] was undefined";return void 0===d.instance&&b(c),d.instance},e=function(a,b){for(var c=a.length,e=new Array(c),f=0;f<c;++f)e.push(d(a[f]));b.apply(null,b)},f={};f.bolt={module:{api:{define:c,require:e,demand:d}}};var g=c,h=function(a,b){g(a,[],function(){return b})};h("4",tinymce.util.Tools.resolve),g("1",["4"],function(a){return a("tinymce.PluginManager")}),g("5",["4"],function(a){return a("tinymce.util.VK")}),g("9",["4"],function(a){return a("tinymce.util.Delay")}),g("a",["4"],function(a){return a("tinymce.util.Tools")}),g("b",["4"],function(a){return a("tinymce.util.XHR")}),g("8",["a"],function(a){var b=function(a){return a&&"A"===a.nodeName&&a.href},c=function(c){return a.grep(c,b).length>0},d=function(a){return a.replace(/\uFEFF/g,"")},e=function(a){return!(/</.test(a)&&(!/^<a [^>]+>[^<]+<\/a>$/.test(a)||a.indexOf("href=")==-1))},f=function(a,b){var c=b?b.innerText||b.textContent:a.getContent({format:"text"});return d(c)};return{isLink:b,hasLinks:c,isOnlyTextSelected:e,getAnchorText:f}}),g("6",["9","a","b","8"],function(a,b,c,d){var e={},f=function(a,b){var d=a.settings.link_list;"string"==typeof d?c.send({url:d,success:function(c){b(a,JSON.parse(c))}}):"function"==typeof d?d(function(c){b(a,c)}):b(a,d)},g=function(a,c,d){var e=function(a,d){return d=d||[],b.each(a,function(a){var b={text:a.text||a.title};a.menu?b.menu=e(a.menu):(b.value=a.value,c&&c(b)),d.push(b)}),d};return e(a,d||[])},h=function(b,c,d){var e=b.selection.getRng();a.setEditorTimeout(b,function(){b.windowManager.confirm(c,function(a){b.selection.setRng(e),d(a)})})},i=function(a,c){var d="noopener noreferrer",e=function(a){return a=f(a),a?[a,d].join(" "):d},f=function(a){var c=new RegExp("("+d.replace(" ","|")+")","g");return a&&(a=b.trim(a.replace(c,""))),a?a:null};return c?e(a):f(a)},j=function(a,c){var f,j,k,l,m,n,o,p,q,r,s,t,u={},v=a.selection,w=a.dom,x=function(a){var b=l.find("#text");(!b.value()||a.lastControl&&b.value()==a.lastControl.text())&&b.value(a.control.text()),l.find("#href").value(a.control.value())},y=function(c){var d=[];if(b.each(a.dom.select("a:not([href])"),function(a){var b=a.name||a.id;b&&d.push({text:b,value:"#"+b,selected:c.indexOf("#"+b)!=-1})}),d.length)return d.unshift({text:"None",value:""}),{name:"anchor",type:"listbox",label:"Anchors",values:d,onselect:x}},z=function(){!k&&0===u.text.length&&m&&this.parent().parent().find("#text")[0].value(this.value())},A=function(c){var d=c.meta||{};o&&o.value(a.convertURL(this.value(),"href")),b.each(c.meta,function(a,b){var c=l.find("#"+b);"text"===b?0===k.length&&(c.value(a),u.text=a):c.value(a)}),d.attach&&(e={href:this.value(),attach:d.attach}),d.text||z.call(this)},B=function(a){a.meta=l.toJSON()};f=v.getStart(),j=w.getParent(f,"a[href]"),m=d.isOnlyTextSelected(v.getContent()),u.text=k=d.getAnchorText(a.selection,j),u.href=j?w.getAttrib(j,"href"):"",j?u.target=w.getAttrib(j,"target"):a.settings.default_link_target&&(u.target=a.settings.default_link_target),(t=w.getAttrib(j,"rel"))&&(u.rel=t),(t=w.getAttrib(j,"class"))&&(u["class"]=t),(t=w.getAttrib(j,"title"))&&(u.title=t),m&&(n={name:"text",type:"textbox",size:40,label:"Text to display",onchange:function(){u.text=this.value()}}),c&&(o={type:"listbox",label:"Link list",values:g(c,function(b){b.value=a.convertURL(b.value||b.url,"href")},[{text:"None",value:""}]),onselect:x,value:a.convertURL(u.href,"href"),onPostRender:function(){o=this}}),a.settings.target_list!==!1&&(a.settings.target_list||(a.settings.target_list=[{text:"None",value:""},{text:"New window",value:"_blank"}]),q={name:"target",type:"listbox",label:"Target",values:g(a.settings.target_list)}),a.settings.rel_list&&(p={name:"rel",type:"listbox",label:"Rel",values:g(a.settings.rel_list)}),a.settings.link_class_list&&(r={name:"class",type:"listbox",label:"Class",values:g(a.settings.link_class_list,function(b){b.value&&(b.textStyle=function(){return a.formatter.getCssText({inline:"a",classes:[b.value]})})})}),a.settings.link_title!==!1&&(s={name:"title",type:"textbox",label:"Title",value:u.title}),l=a.windowManager.open({title:"Insert link",data:u,body:[{name:"href",type:"filepicker",filetype:"file",size:40,autofocus:!0,label:"Url",onchange:A,onkeyup:z,onbeforecall:B},n,s,y(u.href),o,p,q,r],onSubmit:function(c){var d;u=b.extend(u,c.data),d=u.href;var f=function(){var b={href:d,target:u.target?u.target:null,rel:u.rel?u.rel:null,"class":u["class"]?u["class"]:null,title:u.title?u.title:null};a.settings.allow_unsafe_link_target||(b.rel=i(b.rel,"_blank"==b.target)),d===e.href&&(e.attach(),e={}),j?(a.focus(),m&&u.text!=k&&("innerText"in j?j.innerText=u.text:j.textContent=u.text),w.setAttribs(j,b),v.select(j),a.undoManager.add()):m?a.insertContent(w.createHTML("a",b,w.encode(u.text))):a.execCommand("mceInsertLink",!1,b)},g=function(a){a.undoManager.transact(f)};return d?d.indexOf("@")>0&&d.indexOf("//")==-1&&d.indexOf("mailto:")==-1?void h(a,"The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",function(b){b&&(d="mailto:"+d),g(a)}):a.settings.link_assume_external_targets&&!/^\w+:/i.test(d)||!a.settings.link_assume_external_targets&&/^\s*www[\.|\d\.]/i.test(d)?void h(a,"The URL you entered seems to be an external link. Do you want to add the required http:// prefix?",function(b){b&&(d="http://"+d),g(a)}):void g(a):void a.execCommand("unlink")}})},k=function(a){f(a,j)};return{open:k}}),g("c",["4"],function(a){return a("tinymce.dom.DOMUtils")}),g("d",["4"],function(a){return a("tinymce.Env")}),g("7",["c","d"],function(a,b){var c=function(a,b){document.body.appendChild(a),a.dispatchEvent(b),document.body.removeChild(a)},d=function(d){if(!b.ie||b.ie>10){var e=document.createElement("a");e.target="_blank",e.href=d,e.rel="noreferrer noopener";var f=document.createEvent("MouseEvents");f.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),c(e,f)}else{var g=window.open("","_blank");if(g){g.opener=null;var h=g.document;h.open(),h.write('<meta http-equiv="refresh" content="0; url='+a.DOM.encode(d)+'">'),h.close()}}};return{open:d}}),g("2",["5","6","7","8"],function(a,b,c,d){var e=function(a,b){return a.dom.getParent(b,"a[href]")},f=function(a){return e(a,a.selection.getStart())},g=function(a){var b=a.getAttribute("data-mce-href");return b?b:a.getAttribute("href")},h=function(a){var b=a.plugins.contextmenu;return!!b&&b.isContextMenuVisible()},i=function(a){return a.altKey===!0&&a.shiftKey===!1&&a.ctrlKey===!1&&a.metaKey===!1},j=function(a,b){if(b){var d=g(b);if(/^#/.test(d)){var e=a.$(d);e.length&&a.selection.scrollIntoView(e[0],!0)}else c.open(b.href)}},k=function(a){return function(){b.open(a)}},l=function(a){return function(){j(a,f(a))}},m=function(a){return function(b){var c,e,f;return!!(a.settings.link_context_toolbar&&!h(a)&&d.isLink(b)&&(c=a.selection,e=c.getRng(),f=e.startContainer,3==f.nodeType&&c.isCollapsed()&&e.startOffset>0&&e.startOffset<f.data.length))}},n=function(b){b.on("click",function(c){var d=e(b,c.target);d&&a.metaKeyPressed(c)&&(c.preventDefault(),j(b,d))}),b.on("keydown",function(a){var c=f(b);c&&13===a.keyCode&&i(a)&&(a.preventDefault(),j(b,c))})};return{openDialog:k,gotoSelectedLink:l,leftClickedOnAHref:m,setupGotoLinks:n}}),g("3",["2","8"],function(a,b){var c=function(a){return function(){var c=this,d=function(a){b.hasLinks(a.parents)?c.show():c.hide()};b.hasLinks(a.dom.getParents(a.selection.getStart()))||c.hide(),a.on("nodechange",d),c.on("remove",function(){a.off("nodechange",d)})}},d=function(b){b.addButton("link",{icon:"link",tooltip:"Insert/edit link",shortcut:"Meta+K",onclick:a.openDialog(b),stateSelector:"a[href]"}),b.addButton("unlink",{icon:"unlink",tooltip:"Remove link",cmd:"unlink",stateSelector:"a[href]"}),b.addContextToolbar&&b.addButton("openlink",{icon:"newtab",tooltip:"Open link",onclick:a.gotoSelectedLink(b)})},e=function(b){b.addMenuItem("openlink",{text:"Open link",icon:"newtab",onclick:a.gotoSelectedLink(b),onPostRender:c(b),prependToContext:!0}),b.addMenuItem("link",{icon:"link",text:"Link",shortcut:"Meta+K",onclick:a.openDialog(b),stateSelector:"a[href]",context:"insert",prependToContext:!0})},f=function(b){b.addContextToolbar&&b.addContextToolbar(a.leftClickedOnAHref(b),"openlink | link unlink")};return{setupButtons:d,setupMenuItems:e,setupContextToolbars:f}}),g("0",["1","2","3"],function(a,b,c){return a.add("link",function(a){c.setupButtons(a),c.setupMenuItems(a),c.setupContextToolbars(a),b.setupGotoLinks(a),a.addShortcut("Meta+K","",b.openDialog(a)),a.addCommand("mceLink",b.openDialog(a))}),function(){}}),d("0")()}();